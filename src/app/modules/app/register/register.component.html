<div class="container mx-auto px-4 sm:px-6 flex computed-div align-middle items-center">

  <app-registration-success class="w-1/2" *ngIf="registerResult == 'success'"></app-registration-success>
  <app-registration-error class="w-1/2" *ngIf="registerResult == 'error'" [errorMessage]="this.errorMessage"></app-registration-error>

  <div class="card w-1/2 my-8 mr-auto border rounded-md shadow-sm transition-all" *ngIf="registerResult == ''">
    <div class="card-heading py-4 border-b p-4">
      <h1 class="text-2xl font-bold primary"> Register <span class="text-gray-400">as patient</span></h1>
    </div>
    <form class="example-form" class="flex flex-col p-4 font-sans"[formGroup]="registerForm" autocomplete="off" (ngSubmit)="onSubmit()">
      <ul class="errors list-disc mx-4 transition-all">
        <li class="text-red-800 font-medium py-2" *ngIf="registerForm.controls.password.errors?.passwordStrength">
          Password too weak
        </li>
        <li class="text-red-800 font-medium py-2" *ngIf="registerForm.controls.password.errors?.passwordMismatch">
          Password doesn't match
        </li>
      </ul>
      <div class="flex m-0 p-0">
        <mat-form-field appearance="outline" class="mb-0 pb-0 flex-grow mr-1 text-base" >
          <mat-label class="font-sans">First Name</mat-label>
          <input matInput (keyup)="updateUsername()" placeholder="John" class="pb-0 font-sans" autocomplete="off" spellcheck="false" name="firstName" formControlName="firstName" required>
        </mat-form-field>
        <mat-form-field appearance="outline" class="mb-0 pb-0 flex-grow ml-2 text-base">
          <mat-label class="font-sans">Last Name</mat-label>
          <input matInput (keyup)="updateUsername()" placeholder="Dela Cruz" class="pb-0 font-sans" autocomplete="off" spellcheck="false" name="lastName" formControlName="lastName" required>
        </mat-form-field>
      </div>
      <mat-form-field appearance="outline" class="mb-0 pb-0 -mt-5 text-base" >
        <mat-label class="font-sans">Username</mat-label>
        <input matInput placeholder="Autogenerated" class="pb-0 font-sans font-bold primary"  autocomplete="off" spellcheck="false" name="username" formControlName="username">
        <mat-hint clas="font-sans">Username is autogenerated</mat-hint>
      </mat-form-field>
      <mat-form-field appearance="outline" class="mb-0 pb-0 text-base" >
        <mat-label class="font-sans">Email</mat-label>
        <input type="email" matInput placeholder="jdcruz@example.com" class="pb-0 font-sans" autocomplete="off" spellcheck="false" name="email" formControlName="email" required>
      </mat-form-field>
      <mat-form-field appearance="outline" class="-mt-5 text-base">
        <mat-label class="font-sans">Contact Number</mat-label>
        <input matInput placeholder="Ex: 09123456789" type="tel"  minlength="11" maxlength="11"  class="font-sans" autocomplete="off" spellcheck="false" required formControlName="contactNumber">
      </mat-form-field>
<!--      <mat-form-field appearance="outline" class="-mt-4">-->
<!--        <mat-label class="font-sans">Birthday</mat-label>-->
<!--        <input matInput class="font-sans" [matDatepicker]="picker" placeholder="mm/dd/yyyy" required name="birthday" formControlName="birthday">-->
<!--        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>-->
<!--        <mat-datepicker #picker></mat-datepicker>-->
<!--      </mat-form-field>-->
      <mat-form-field appearance="outline" class="-mt-5 text-base">
        <mat-label class="font-sans">Password</mat-label>
        <input matInput placeholder="Password" type="password"  class="font-sans" autocomplete="off" spellcheck="false" required formControlName="password">
        <mat-hint class="font-sans">8 characters minimum, atleast one uppercase, one lowercase and one number. </mat-hint>
      </mat-form-field>
      <mat-form-field appearance="outline" class="text-base">
        <mat-label class="font-sans">Confirm Password</mat-label>
        <input matInput (keyup)="pwKeyup()" placeholder="Re-type Password" type="password" class="font-sans" autocomplete="off" spellcheck="false" required formControlName="passwordConfirm">
      </mat-form-field>
      <button type="submit" mat-raised-button color="primary"  class="-mt-5 mb-2 text-base" [disabled]="submitting || !registerForm.valid">{{ submitting ? 'Signing Up ...' : 'Sign Up' }}</button>
      <p class="text-sm text-gray-500 pt-4 font-normal">By clicking Sign Up you are agreeing to our <a routerLink="/privacy" class="primary font-medium">privacy policy.</a></p>
     </form>
</div>
</div>
